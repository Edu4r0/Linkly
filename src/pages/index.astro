---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Table from "@/components/Table/Table";
import Search from "@/components/Search";
import Title from "@/components/Title.astro";
import Theme from "@/components/Theme";
import Autopaste from "@/components/Autopaste.astro";
import data from "@/data/tableHome";
import { getSession } from "auth-astro/server";
const session = await getSession(Astro.request);
---

<Layout title="Linkly">
  <main class="overflow-hidden">
    <div class="max-w-[1621px] m-auto px-10 py-8">
      <Header session={session} />
    </div>
    <Title />
    <div class="flex flex-col gap-5">
      <div class="flex mt-4 m-auto items-center lg:w-[35%] md:w-[55%] my-2 sm:w-[80%] w-[90%]">
        <Search session={session} client:load />
      </div>
      <div class="flex flex-col gap-4 justify-center items-center">
        <Autopaste />
        <p class="text-[#C9CED6] text-balance text-center">
          You can create <span class="text-[#EB568E]"> 05</span> more links. <a
            href=""
            class="underline underline-offset-2 text-white font-medium"
            >Register Now</a
          > to enjoy Unlimited usage
        </p>
      </div>
      <div class="justify-end w-full px-16">
        <Theme />
      </div>

      <div class="relative -mt-5 m-auto max-w-[1421px] text-[#C9CED6]">
        <Table classHead={true} data={data} client:load session={session} />
      </div>
    </div>
  </main>
 
</Layout>
